@tailwind base;
@tailwind components;
@tailwind utilities;

/* Completely disable browser validation styling */
input:invalid,
input:-webkit-invalid,
input:-moz-invalid,
input[type="text"]:invalid,
input[type="email"]:invalid {
  border: 1px solid hsl(var(--border)) !important;
  box-shadow: none !important;
  outline: none !important;
  background-color: hsl(var(--background)) !important;
}

input:focus:invalid,
input:focus:-webkit-invalid,
input:focus:-moz-invalid,
input[type="text"]:focus:invalid,
input[type="email"]:focus:invalid {
  border: 1px solid hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
  outline: none !important;
  background-color: hsl(var(--background)) !important;
}

/* Remove any red coloring from form validation */
input[aria-invalid="true"],
input[aria-invalid="false"],
.form-field input,
.form-control input {
  border-color: hsl(var(--border)) !important;
  box-shadow: none !important;
}

/* Override any validation states */
input:not(:focus):invalid {
  border-color: hsl(var(--border)) !important;
  box-shadow: none !important;
}



/* Perfect circle profile picture */
.profile-circle {
  width: 120px !important;
  height: 120px !important;
  min-width: 120px !important;
  min-height: 120px !important;
  max-width: 120px !important;
  max-height: 120px !important;
  border-radius: 60px !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  border: 3px solid #e5e7eb !important;
  flex-shrink: 0 !important;
  box-sizing: border-box !important;
  aspect-ratio: 1 / 1 !important;
  overflow: hidden !important;
  display: block !important;
  position: relative !important;
}

/* Specific mobile override for profile circle */
@media (max-width: 768px) {
  .profile-circle {
    width: 120px !important;
    height: 120px !important;
    min-width: 120px !important;
    min-height: 120px !important;
    max-width: 120px !important;
    max-height: 120px !important;
    border-radius: 60px !important;
    flex-shrink: 0 !important;
    transform: none !important;
  }
}

/* Mobile optimization */
* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  overflow-x: hidden;
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  background-color: hsl(var(--background));
  color: hsl(0 0% 0%) !important;
  transition: background-color 0.3s ease;
}

/* Fix mobile scrolling issues */
#root {
  min-height: 100vh;
  overflow-x: hidden;
  background-color: hsl(var(--background));
  color: hsl(0 0% 0%) !important;
}

/* Ensure all main containers inherit theme colors */
* {
  box-sizing: border-box;
}

/* Apply theme colors with proper specificity */
:not(.dark) {
  color: hsl(var(--text-primary, 0 0% 0%));
}

:not(.dark) h1, :not(.dark) h2, :not(.dark) h3, :not(.dark) h4, :not(.dark) h5, :not(.dark) h6,
:not(.dark) label, :not(.dark) .text-lg, :not(.dark) .text-base, :not(.dark) .text-xl {
  color: hsl(var(--text-primary, 0 0% 0%));
}

/* Dark mode colors */
.dark {
  color: hsl(var(--text-primary, 0 0% 98%));
}

.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6,
.dark label, .dark .text-lg, .dark .text-base, .dark .text-xl {
  color: hsl(var(--text-primary, 0 0% 98%));
}

/* Buttons with custom backgrounds or primary variant get white text */
button[style*="backgroundColor"],
.bg-primary,
button.bg-primary,
[class*="bg-primary"] {
  color: white !important;
}

/* Ensure proper inheritance of background and text colors */
main, 
.main-content,
[data-radix-portal],
.page-container,
.flex.flex-1,
.overflow-auto,
.h-full,
[class*="flex-1"],
[class*="bg-background"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(0 0% 0%) !important;
}

.dark main, 
.dark .main-content,
.dark [data-radix-portal],
.dark .page-container,
.dark .flex.flex-1,
.dark .overflow-auto,
.dark .h-full,
.dark [class*="flex-1"],
.dark [class*="bg-background"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(0 0% 98%) !important;
}

/* Force dark mode background on all major layout containers */
.dark,
.dark body,
.dark #root,
.dark main,
.dark .main-content,
.dark .flex.flex-1,
.dark .overflow-auto,
.dark .h-full,
.dark [class*="flex-1"],
.dark [class*="bg-background"],
.dark [class*="bg-white"],
.dark .min-h-screen,
.dark .w-full,
.dark .p-6,
.dark .space-y-6,
.dark .page-container,
.dark [data-radix-portal] {
  background-color: hsl(240 10% 3.9%) !important;
  color: hsl(0 0% 98%) !important;
}

/* Force light mode text color on all elements */
:not(.dark) * {
  color: hsl(0 0% 0%) !important;
}

:not(.dark) h1,
:not(.dark) h2,
:not(.dark) h3,
:not(.dark) h4,
:not(.dark) h5,
:not(.dark) h6,
:not(.dark) p,
:not(.dark) span,
:not(.dark) div,
:not(.dark) label,
:not(.dark) button,
:not(.dark) a,
:not(.dark) td,
:not(.dark) th,
:not(.dark) li,
:not(.dark) [class*="text-"],
:not(.dark) .prose {
  color: hsl(0 0% 0%) !important;
}

/* Override any Tailwind text color classes */
:not(.dark) .text-gray-500,
:not(.dark) .text-gray-600,
:not(.dark) .text-gray-700,
:not(.dark) .text-gray-800,
:not(.dark) .text-gray-900,
:not(.dark) [class*="text-gray"],
:not(.dark) .text-muted-foreground,
:not(.dark) [class*="text-muted"] {
  color: hsl(0 0% 0%) !important;
}

/* Specific navigation and sidebar text overrides */
:not(.dark) nav,
:not(.dark) nav *,
:not(.dark) .sidebar,
:not(.dark) .sidebar *,
:not(.dark) [data-sidebar],
:not(.dark) [data-sidebar] *,
:not(.dark) header,
:not(.dark) header *,
:not(.dark) .navigation,
:not(.dark) .navigation *,
:not(.dark) [role="navigation"],
:not(.dark) [role="navigation"] * {
  color: hsl(0 0% 0%) !important;
}

/* Menu items and links */
:not(.dark) .menu-item,
:not(.dark) .nav-link,
:not(.dark) [class*="menu"],
:not(.dark) [class*="nav"],
:not(.dark) .sidebar-item,
:not(.dark) [data-sidebar="menu-button"],
:not(.dark) [data-sidebar="menu-sub-button"],
:not(.dark) .text-sidebar-foreground,
:not(.dark) .text-sidebar-accent-foreground {
  color: hsl(0 0% 0%) !important;
}

/* Sidebar specific overrides */
:not(.dark) .sidebar-item,
:not(.dark) .sidebar-item span,
:not(.dark) .sidebar-item * {
  color: hsl(0 0% 0%) !important;
}

/* Use custom text colors in light mode */
html:not(.dark) {
  color: hsl(var(--text-primary)) !important;
}

html:not(.dark) *:not(.text-primary):not([class*="text-primary"]):not([class*="text-red"]):not([class*="text-destructive"]) {
  color: hsl(var(--text-primary)) !important;
}

/* Specific mobile menu override */
html:not(.dark) .mobile-menu,
html:not(.dark) .mobile-menu *,
html:not(.dark) [data-mobile-menu],
html:not(.dark) [data-mobile-menu] *,
html:not(.dark) .mobile-nav,
html:not(.dark) .mobile-nav * {
  color: hsl(0 0% 0%) !important;
}

/* Override any CSS variables that might be causing gray text */
:root {
  --sidebar-foreground: 0 0% 0% !important;
  --card-foreground: 0 0% 0% !important;
  --popover-foreground: 0 0% 0% !important;
}

/* Comprehensive text color enforcement for all UI components */
:not(.dark) .text-muted-foreground,
:not(.dark) [class*="text-muted"],
:not(.dark) .text-gray-500,
:not(.dark) .text-gray-600,
:not(.dark) .text-slate-500,
:not(.dark) .text-slate-600,
:not(.dark) [class*="text-slate"],
:not(.dark) [class*="text-zinc"],
:not(.dark) [data-radix-collection-item],
:not(.dark) [data-radix-menu-content] *,
:not(.dark) [data-radix-dropdown-menu-content] * {
  color: hsl(0 0% 0%) !important;
}

/* Mobile-specific dark mode enforcement */
@media (max-width: 768px) {
  .dark,
  .dark body,
  .dark #root,
  .dark main,
  .dark .main-content,
  .dark > div,
  .dark .flex[style*="height"],
  .dark .flex.min-h-screen,
  .dark .flex.h-full {
    background-color: hsl(240 10% 3.9%) !important;
    color: hsl(0 0% 98%) !important;
  }
  
  .dark div[style*="backgroundColor"],
  .dark div[style*="background-color"],
  .dark div[style*="white"] {
    background-color: hsl(240 10% 3.9%) !important;
    color: hsl(0 0% 98%) !important;
  }
  
  /* Override any inline styles that might be setting white backgrounds */
  .dark * {
    border-color: hsl(240 3.7% 15.9%) !important;
  }
}

/* Specifically target the main layout wrapper */
.dark > div,
.dark .flex.min-h-screen > div:not(.sidebar),
.dark .flex.h-full > div:not(.sidebar) {
  background-color: hsl(var(--background)) !important;
}

/* Mobile viewport fixes */
@media (max-width: 768px) {
  html {
    height: 100%;
    overflow-x: hidden;
  }
  
  body {
    position: relative;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y;
  }
  
  /* Ensure content can scroll */
  .mobile-scroll {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    height: auto;
    min-height: 100vh;
  }
  
  /* Prevent horizontal scroll on small screens */
  * {
    max-width: 100vw;
    overflow-wrap: break-word;
  }
  
  /* Better touch targets for mobile */
  button, 
  input, 
  select, 
  textarea,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem 1rem;
    font-size: 1rem;
  }
  
  /* Icon buttons need adequate touch area */
  button:has(svg:only-child), 
  [role="button"]:has(svg:only-child) {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem;
  }
  
  /* Small buttons should still meet minimum touch targets */
  .btn-sm, 
  button[class*="size-sm"] {
    min-height: 40px;
    min-width: 40px;
    padding: 0.5rem 0.75rem;
  }
}

/* Add safe area support for mobile devices */
.pb-safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom, 1rem);
}

/* Improve mobile form inputs */
input, textarea, select {
  font-size: 16px; /* Prevents zoom on iOS */
}

@media (max-width: 768px) {
  input, textarea, select {
    font-size: 16px;
    line-height: 1.5;
  }
}

body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  width: 100%;
  min-height: 100vh;
}

/* Enhanced mobile layout optimization */
@media (max-width: 768px) {
  /* Prevent horizontal scrolling and optimize touch */
  html, body {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: manipulation !important;
    -webkit-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    -webkit-tap-highlight-color: transparent !important;
  }
  
  /* Main content area optimization */
  main {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Container and layout fixes */
  .container, [class*="max-w"] {
    max-width: 100% !important;
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  
  /* Grid system overrides for mobile */
  .grid[class*="grid-cols-"]:not(.lg\:grid-cols-) {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
  }
  
  /* Component spacing optimization */
  .space-y-6 > * + * {
    margin-top: 1rem !important;
  }
  
  .space-y-4 > * + * {
    margin-top: 0.75rem !important;
  }
  
  /* Form optimization to prevent zoom */
  input, select, textarea {
    font-size: 16px !important;
    -webkit-appearance: none !important;
    border-radius: 0.375rem !important;
  }
  
  /* Touch targets meet accessibility standards */
  button, a[role="button"], [role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
    -webkit-user-select: none !important;
    user-select: none !important;
    padding: 0.75rem !important;
  }
  
  /* Exception for buttons that already have adequate padding */
  button[class*="px-"], button[class*="py-"] {
    padding: revert !important;
  }
  
  /* Tables responsive handling */
  table {
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
    width: 100% !important;
  }
  
  /* Modal and overlay constraints */
  [role="dialog"], .fixed[class*="z-"] {
    max-width: calc(100vw - 1rem) !important;
    max-height: calc(100vh - 1rem) !important;
  }
  
  /* Typography responsive scaling */
  h1 { font-size: clamp(1.25rem, 5vw, 1.875rem) !important; }
  h2 { font-size: clamp(1.125rem, 4vw, 1.5rem) !important; }
  h3 { font-size: clamp(1rem, 3.5vw, 1.25rem) !important; }
  
  /* Sidebar and desktop layout resets */
  [class*="ml-64"], [class*="pl-64"] {
    margin-left: 0 !important;
    padding-left: 0 !important;
  }
  
  /* Card component mobile optimization */
  [class*="rounded-lg"], .card {
    border-radius: 0.5rem !important;
    margin: 0 !important;
    width: 100% !important;
  }

  /* Point of Sale specific mobile fixes */
  .flex[class*="h-screen"] {
    min-height: 100vh !important;
    height: auto !important;
  }

  .flex[class*="h-full"] {
    min-height: 0 !important;
    height: auto !important;
  }

  /* Ensure all pages can scroll properly */
  main {
    min-height: calc(100vh - 4rem) !important;
    overflow-y: auto !important;
  }
}

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --muted: 60 4.8% 95.9%;
  --muted-foreground: 25 5.3% 44.7%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --border: 20 5.9% 90%;
  --input: 20 5.9% 90%;
  --primary: 330 81% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 0 0% 0%;
  
  /* Custom text colors - will be updated by JavaScript */
  --text-primary: 0 0% 0%;
  --text-secondary: 215.4 16.3% 46.9%;
  --accent: 330 81% 60%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 60 9.1% 97.8%;
  --ring: 330 81% 60%;
  --radius: 0.5rem;
  
  /* Chart colors */
  --chart-1: 330 81% 60%;
  --chart-2: 160 84% 39%;
  --chart-3: 24 94% 53%;
  --chart-4: 315 70% 58%;
  --chart-5: 48 96% 53%;
  
  /* Dark mode will use same custom text colors */
  
  /* Sidebar colors */
  --sidebar-background: 0 0% 100%;
  --sidebar-foreground: 0 0% 0%;
  --sidebar-primary: 330 81% 60%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 330 81% 95%;
  --sidebar-accent-foreground: 330 81% 60%;
  --sidebar-border: 220 13% 91%;
  --sidebar-ring: 330 81% 60%;
  
  /* Dropdown colors - will be updated by JavaScript */
  --dropdown-selected: 330 81% 60%;
  --dropdown-selected-foreground: 0 0% 100%;
  
  /* Enhanced theme colors for better UI consistency */
  --success: 142 76% 36%;
  --success-foreground: 138 62% 47%;
  --warning: 45 93% 47%;
  --warning-foreground: 26 83% 14%;
  --info: 217 91% 60%;
  --info-foreground: 222 84% 5%;
  
  /* Button variant colors */
  --button-primary: var(--primary);
  --button-primary-hover: 330 81% 55%;
  --button-secondary: var(--secondary);
  --button-secondary-hover: 210 40% 92%;
  --button-outline: transparent;
  --button-outline-border: var(--border);
  --button-outline-hover: var(--accent);
  
  /* Form element colors */
  --form-label: var(--foreground);
  --form-input: var(--background);
  --form-input-border: var(--border);
  --form-input-focus: var(--ring);
  --form-error: var(--destructive);
}

/* Email Template Editor Specific Styles */
.email-template-editor {
  height: 100% !important;
  width: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Ensure Unlayer editor takes full space */
.email-template-editor > div,
.email-template-editor iframe {
  height: 100% !important;
  width: 100% !important;
  flex: 1 !important;
  min-height: 0 !important;
}

/* Modal dialog content for email editor */
[data-state="open"] .email-template-editor {
  height: 100% !important;
  min-height: 500px !important;
}

/* Override any conflicting Unlayer styles */
#unlayer-container,
.unlayer-container,
[id*="unlayer"] {
  height: 100% !important;
  width: 100% !important;
}

.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --primary: 330 81% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --accent: 330 81% 60%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --ring: 240 4.9% 83.9%;
  
  /* Chart colors - darkened for dark mode */
  --chart-1: 330 70% 50%;
  --chart-2: 160 70% 35%;
  --chart-3: 24 80% 48%;
  --chart-4: 315 70% 52%;
  --chart-5: 48 80% 48%;
  
  /* Sidebar colors */
  --sidebar-background: 240 10% 3.9%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 330 81% 60%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 330 30% 20%;
  --sidebar-accent-foreground: 330 81% 60%;
  --sidebar-border: 240 3.7% 15.9%;
  --sidebar-ring: 330 81% 60%;
  
  /* Dropdown colors for dark mode */
  --dropdown-selected: 330 81% 60%;
  --dropdown-selected-foreground: 0 0% 100%;
  
  /* Enhanced theme colors for dark mode */
  --success: 142 70% 45%;
  --success-foreground: 138 62% 25%;
  --warning: 45 93% 58%;
  --warning-foreground: 26 83% 5%;
  --info: 217 91% 70%;
  --info-foreground: 222 84% 10%;
  
  /* Button variant colors for dark mode */
  --button-primary: var(--primary);
  --button-primary-hover: 330 81% 65%;
  --button-secondary: var(--secondary);
  --button-secondary-hover: 240 3.7% 20%;
  --button-outline: transparent;
  --button-outline-border: var(--border);
  --button-outline-hover: var(--accent);
  
  /* Form element colors for dark mode */
  --form-label: var(--foreground);
  --form-input: var(--background);
  --form-input-border: var(--border);
  --form-input-focus: var(--ring);
  --form-error: var(--destructive);
  --form-success: var(--success);
}

/* Email Template Editor Styles */
.email-template-editor {
  height: 100% !important;
  min-height: 600px;
  display: flex;
  flex-direction: column;
}

.email-template-editor > div {
  height: 100% !important;
  flex: 1;
}

.email-template-editor iframe {
  width: 100% !important;
  height: 100% !important;
  min-height: 600px !important;
}

/* Force Unlayer editor to use full height in dialog */
[data-radix-dialog-content] .email-template-editor {
  height: 100% !important;
}

[data-radix-dialog-content] .email-template-editor > div {
  height: 100% !important;
}

[data-radix-dialog-content] .email-template-editor iframe {
  height: 100% !important;
}

/* Additional Unlayer editor iframe targeting */
#unlayer-editor-iframe {
  height: 100% !important;
}

/* Ensure the Unlayer wrapper div gets full height */
.email-template-editor [style*="height"] {
  height: 100% !important;
}

/* Enhanced component theming utilities */
.btn-primary {
  background-color: hsl(var(--button-primary));
  color: hsl(var(--primary-foreground));
  border: 1px solid hsl(var(--button-primary));
  transition: all 0.2s ease-in-out;
}

.btn-primary:hover {
  background-color: hsl(var(--button-primary-hover));
  transform: translateY(-1px);
  box-shadow: 0 4px 12px hsla(var(--button-primary), 0.3);
}

.btn-secondary {
  background-color: hsl(var(--button-secondary));
  color: hsl(var(--secondary-foreground));
  border: 1px solid hsl(var(--button-secondary));
  transition: all 0.2s ease-in-out;
}

.btn-secondary:hover {
  background-color: hsl(var(--button-secondary-hover));
}

.btn-outline {
  background-color: hsl(var(--button-outline));
  color: hsl(var(--foreground));
  border: 1px solid hsl(var(--button-outline-border));
  transition: all 0.2s ease-in-out;
}

.btn-outline:hover {
  background-color: hsl(var(--button-outline-hover));
  color: hsl(var(--accent-foreground));
}

/* Form styling enhancements */
.form-input {
  background-color: hsl(var(--form-input));
  border: 1px solid hsl(var(--form-input-border));
  color: hsl(var(--foreground));
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.form-input:focus {
  border-color: hsl(var(--form-input-focus));
  box-shadow: 0 0 0 2px hsla(var(--form-input-focus), 0.2);
  outline: none;
}

.form-label {
  color: hsl(var(--form-label));
  font-weight: 500;
}

.form-error {
  color: hsl(var(--form-error));
  font-size: 0.875rem;
}

.form-success {
  color: hsl(var(--form-success));
  font-size: 0.875rem;
}

/* Status indicator utilities */
.status-success {
  background-color: hsla(var(--success), 0.1);
  color: hsl(var(--success));
  border: 1px solid hsla(var(--success), 0.2);
}

.status-warning {
  background-color: hsla(var(--warning), 0.1);
  color: hsl(var(--warning));
  border: 1px solid hsla(var(--warning), 0.2);
}

.status-info {
  background-color: hsla(var(--info), 0.1);
  color: hsl(var(--info));
  border: 1px solid hsla(var(--info), 0.2);
}

/* Enhanced card styling */
.card-enhanced {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: calc(var(--radius) + 2px);
  box-shadow: 0 2px 8px hsla(var(--foreground), 0.05);
  transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out;
}

.card-enhanced:hover {
  box-shadow: 0 4px 16px hsla(var(--foreground), 0.1);
  transform: translateY(-2px);
}

/* Apply secondary color to all text elements */
.bg-secondary {
  color: hsl(var(--secondary-foreground)) !important;
}

/* Apply custom text colors globally */
h1, h2, h3, h4, h5, h6,
.text-foreground,
.sidebar-item,
[data-sidebar="menu-button"],
[data-sidebar="menu-item"],
.font-semibold,
.font-medium,
label,
.text-lg,
.text-base,
.text-xl {
  color: hsl(var(--text-primary)) !important;
}

/* Apply secondary text colors */
.text-muted-foreground,
.text-gray-500,
.text-gray-600,
.text-gray-400,
.text-sm,
p,
span:not(.font-semibold):not(.font-medium):not(.font-bold),
.text-muted,
.description,
small {
  color: hsl(var(--text-secondary)) !important;
}

/* Apply primary color to icons with elegant outline style */
svg,
.lucide,
[class*="icon"],
.sidebar-item svg,
[data-sidebar="menu-button"] svg,
[data-sidebar="menu-item"] svg,
label svg,
button svg:not(.bg-secondary svg) {
  color: hsl(var(--primary)) !important;
  stroke: hsl(var(--primary)) !important;
  fill: none !important;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Theme color variations */
[data-theme="blue"] {
  --primary: 221 83% 53%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 221 83% 53%;
  --sidebar-accent: 221 83% 95%;
  --sidebar-accent-foreground: 221 83% 53%;
  --sidebar-ring: 221 83% 53%;
  --dropdown-selected: 221 83% 53%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="purple"] {
  --primary: 262 83% 58%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 262 83% 58%;
  --sidebar-accent: 262 83% 95%;
  --sidebar-accent-foreground: 262 83% 58%;
  --sidebar-ring: 262 83% 58%;
  --dropdown-selected: 262 83% 58%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="pink"] {
  --primary: 330 81% 60%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 330 81% 60%;
  --sidebar-accent: 330 81% 95%;
  --sidebar-accent-foreground: 330 81% 60%;
  --sidebar-ring: 330 81% 60%;
  --dropdown-selected: 330 81% 60%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="green"] {
  --primary: 142 76% 36%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 142 76% 36%;
  --sidebar-accent: 142 76% 95%;
  --sidebar-accent-foreground: 142 76% 36%;
  --sidebar-ring: 142 76% 36%;
  --dropdown-selected: 142 76% 36%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="orange"] {
  --primary: 24 94% 53%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 24 94% 53%;
  --sidebar-accent: 24 94% 95%;
  --sidebar-accent-foreground: 24 94% 53%;
  --sidebar-ring: 24 94% 53%;
  --dropdown-selected: 24 94% 53%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="red"] {
  --primary: 0 84% 60%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 0 84% 60%;
  --sidebar-accent: 0 84% 95%;
  --sidebar-accent-foreground: 0 84% 60%;
  --sidebar-ring: 0 84% 60%;
  --dropdown-selected: 0 84% 60%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="teal"] {
  --primary: 173 80% 40%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 173 80% 40%;
  --sidebar-accent: 173 80% 95%;
  --sidebar-accent-foreground: 173 80% 40%;
  --sidebar-ring: 173 80% 40%;
  --dropdown-selected: 173 80% 40%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="indigo"] {
  --primary: 231 48% 48%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 231 48% 48%;
  --sidebar-accent: 231 48% 95%;
  --sidebar-accent-foreground: 231 48% 48%;
  --sidebar-ring: 231 48% 48%;
  --dropdown-selected: 231 48% 48%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="rose"] {
  --primary: 330 81% 60%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 330 81% 60%;
  --sidebar-accent: 330 81% 95%;
  --sidebar-accent-foreground: 330 81% 60%;
  --sidebar-ring: 330 81% 60%;
  --dropdown-selected: 330 81% 60%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="emerald"] {
  --primary: 160 84% 39%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 160 84% 39%;
  --sidebar-accent: 160 84% 95%;
  --sidebar-accent-foreground: 160 84% 39%;
  --sidebar-ring: 160 84% 39%;
  --dropdown-selected: 160 84% 39%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="amber"] {
  --primary: 45 93% 58%;
  --primary-foreground: 26 83% 14%;
  --sidebar-primary: 45 93% 58%;
  --sidebar-accent: 45 93% 95%;
  --sidebar-accent-foreground: 45 93% 58%;
  --sidebar-ring: 45 93% 58%;
  --dropdown-selected: 45 93% 58%;
  --dropdown-selected-foreground: 26 83% 14%;
}

[data-theme="cyan"] {
  --primary: 188 94% 42%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 188 94% 42%;
  --sidebar-accent: 188 94% 95%;
  --sidebar-accent-foreground: 188 94% 42%;
  --sidebar-ring: 188 94% 42%;
  --dropdown-selected: 188 94% 42%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="violet"] {
  --primary: 262 83% 58%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 262 83% 58%;
  --sidebar-accent: 262 83% 95%;
  --sidebar-accent-foreground: 262 83% 58%;
  --sidebar-ring: 262 83% 58%;
  --dropdown-selected: 262 83% 58%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="lime"] {
  --primary: 84 81% 44%;
  --primary-foreground: 20 14.3% 4.1%;
  --sidebar-primary: 84 81% 44%;
  --sidebar-accent: 84 81% 95%;
  --sidebar-accent-foreground: 84 81% 44%;
  --sidebar-ring: 84 81% 44%;
  --dropdown-selected: 84 81% 44%;
  --dropdown-selected-foreground: 20 14.3% 4.1%;
}

[data-theme="fuchsia"] {
  --primary: 292 84% 61%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 292 84% 61%;
  --sidebar-accent: 292 84% 95%;
  --sidebar-accent-foreground: 292 84% 61%;
  --sidebar-ring: 292 84% 61%;
  --dropdown-selected: 292 84% 61%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="sky"] {
  --primary: 198 93% 60%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 198 93% 60%;
  --sidebar-accent: 198 93% 95%;
  --sidebar-accent-foreground: 198 93% 60%;
  --sidebar-ring: 198 93% 60%;
  --dropdown-selected: 198 93% 60%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="slate"] {
  --primary: 215 28% 17%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 215 28% 17%;
  --sidebar-accent: 215 28% 95%;
  --sidebar-accent-foreground: 215 28% 17%;
  --sidebar-ring: 215 28% 17%;
  --dropdown-selected: 215 28% 17%;
  --dropdown-selected-foreground: 210 40% 98%;
}

[data-theme="stone"] {
  --primary: 25 5% 45%;
  --primary-foreground: 210 40% 98%;
  --sidebar-primary: 25 5% 45%;
  --sidebar-accent: 25 5% 95%;
  --sidebar-accent-foreground: 25 5% 45%;
  --sidebar-ring: 25 5% 45%;
  --dropdown-selected: 25 5% 45%;
  --dropdown-selected-foreground: 210 40% 98%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* Custom styles for active sidebar item */
.sidebar-item.active {
  @apply border-l-4 border-primary bg-sidebar-accent text-primary;
}

.sidebar-item {
  @apply flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors;
}

.sidebar-item:not(.active) {
  @apply text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-800;
}

/* Mobile sidebar toggle */
@media (max-width: 768px) {
  .sidebar {
    @apply transform -translate-x-full transition-transform ease-in-out duration-300;
  }
  
  .sidebar.open {
    @apply translate-x-0;
  }
}

/* Dropdown theme colors */
[data-radix-select-trigger][data-state="open"] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
  border-color: hsl(var(--dropdown-selected)) !important;
}

[data-radix-select-item][data-highlighted] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

[data-radix-select-item][data-state="checked"] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Select content items */
[data-radix-select-content] [data-radix-select-item]:hover {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Select viewport items */
[data-radix-select-viewport] [data-radix-select-item][data-highlighted] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* More specific selectors for shadcn select components */
.select-item-highlighted {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

button[data-radix-select-trigger][data-state="open"] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
  border-color: hsl(var(--dropdown-selected)) !important;
}

/* Target all select components globally */
[role="combobox"][data-state="open"],
[role="listbox"] [role="option"][data-highlighted],
[role="listbox"] [role="option"]:hover,
.select-item[data-highlighted],
.select-item:hover {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Ensure all select elements use theme colors */
[data-radix-collection-item][data-highlighted],
[data-radix-collection-item]:hover {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Target shadcn/ui specific select classes */
div[data-radix-select-content] div[data-radix-select-item][data-highlighted],
div[data-radix-select-content] div[data-radix-select-item]:focus,
.select-content .select-item[data-highlighted],
.select-content .select-item:focus {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Universal dropdown item override - highest specificity */
* [data-radix-select-item] {
  background-color: transparent !important;
}

* [data-radix-select-item][data-highlighted],
* [data-radix-select-item]:hover,
* [data-radix-select-item][data-state="checked"] {
  background-color: hsl(var(--dropdown-selected)) !important;
  color: hsl(var(--dropdown-selected-foreground)) !important;
}

/* Stats card hover effect */
.stats-card {
  @apply transition-all duration-200;
}

.stats-card:hover {
  @apply shadow-lg transform -translate-y-1;
}

/* Fix button positioning and prevent overlays */
button {
  position: relative;
  z-index: auto;
}

/* Ensure no pseudo-elements create overlays */
*::before,
*::after {
  z-index: inherit;
}

/* Prevent any background bleeding */
.bg-pink-600,
.bg-pink-700 {
  background-color: rgb(219 39 119) !important;
}
